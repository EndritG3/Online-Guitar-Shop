'use client';

import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';

// Read saved language from localStorage on the client
const savedLanguage = typeof window !== 'undefined' ? localStorage.getItem('lang') || undefined : undefined;

const resources = {
  en: {
    translation: {
      'nav.home': 'Home',
      'nav.guitars': 'Guitars',
      'nav.cart': 'Cart',
      'nav.backHome': 'Back To Home',
      'search.placeholder': 'Search guitars...',
      'search.byName': 'Search by name',
      'filter.brand': 'Brand',
      'filter.price': 'Price Range',
      'filter.type': 'Type',
      'filter.byType': 'Filter by type',
      'filter.allTypes': 'All Types',
      'guitar.price': 'Price',
      'guitar.brand': 'Brand',
      'guitar.model': 'Model',
      'guitar.type': 'Type',
      'guitar.addToCart': 'Add to Cart',
      'guitar.viewDetails': 'View Details',
      'cart.empty': 'Your cart is empty',
      'cart.total': 'Total',
      'cart.checkout': 'Checkout',
      'cart.remove': 'Remove',
      'loading': 'Loading...',
      'error': 'An error occurred',
      'noResults': 'No guitars found',
      'hero.playLikeA': 'Play like a',
      'hero.rockStar': 'Rock star',
      'hero.description': 'Experience the legacy of {{brand}} craftsmanship, where every guitar is built to inspire creativity and elevate your performance. Our commitment to excellence delivers instruments that are built to play fast, sound bold, and stand out on any stage.',
      'hero.ask': 'Ask ChatGPT',
      'selection.titlePrefix': 'Check out the',
      'selection.titleHighlight': 'Selection',
      'pagination.showingResults': 'SHOWING {{count}} RESULTS FROM {{total}}',
      'footer.pages': 'PAGES',
      'footer.product': 'PRODUCT',
      'footer.followUs': 'FOLLOW US',
      'footer.store': 'Store',
      'footer.collections': 'Collections',
      'footer.support': 'Support',
      'footer.terms': 'Terms',
      'footer.privacyPolicy': 'Privacy Policy',
      'footer.copyright': '©2025 Copyright VibeStrings',
      'footer.city': 'San Francisco',
      'footer.language': 'Language',
      'language.en': 'English',
      'language.sq': 'Albanian',
      'language.mk': 'Macedonian',
      'home.hero.titlePrefix': 'Browse top quality',
      'home.hero.titleHighlight': 'Guitars',
      'home.hero.titleSuffix': 'online.',
      'home.hero.subtitle': 'Explore 50k+ latest collections of branded guitars online with VibeStrings.',
      'home.featured.titlePrefix': 'Featuring the',
      'home.featured.titleHighlight': 'Best Brands',
      'home.featured.subtitle': 'Select your preferred brand and explore our exquisite collection.',
      'home.why.titlePrefix': 'Why try',
      'home.why.titleSuffix': '?',
      'home.mobile.titlePrefix': 'Browse and buy your',
      'home.mobile.titleHighlight': 'favorite guitars',
      'home.mobile.titleSuffix': 'with VibeStrings.',
      'nav.backList': 'Back To List',
      'model.notFound': 'Model not found',
      'model.specification': 'Specification',
      'model.whoPlaysIt': 'Who plays it?',
      'model.specs.bodyWood': 'Body Wood',
      'model.specs.neckWood': 'Neck Wood',
      'model.specs.fingerboard': 'Fingerboard',
      'model.specs.pickups': 'Pickups',
      'model.specs.tuners': 'Tuners',
      'model.specs.scaleLength': 'Scale Length',
      'model.specs.bridge': 'Bridge',
    },
  },
  sq: {
    translation: {
      'nav.home': 'Kryesore',
      'nav.guitars': 'Kitarat',
      'nav.cart': 'Shporta',
      'nav.backHome': 'Kthehu te Kryefaqja',
      'search.placeholder': 'Kërko kitarat...',
      'search.byName': 'Kërko sipas emrit',
      'filter.brand': 'Marka',
      'filter.price': 'Gama e Çmimit',
      'filter.type': 'Lloji',
      'filter.byType': 'Filtro sipas llojit',
      'filter.allTypes': 'Të gjitha llojet',
      'guitar.price': 'Çmimi',
      'guitar.brand': 'Marka',
      'guitar.model': 'Modeli',
      'guitar.type': 'Lloji',
      'guitar.addToCart': 'Shto në Shportë',
      'guitar.viewDetails': 'Shiko Detajet',
      'cart.empty': 'Shporta juaj është bosh',
      'cart.total': 'Totali',
      'cart.checkout': 'Përfundo Blerjen',
      'cart.remove': 'Hiq',
      'loading': 'Duke ngarkuar...',
      'error': 'Ndodhi një gabim',
      'noResults': 'Nuk u gjetën kitarat',
      'hero.playLikeA': 'Luaj si',
      'hero.rockStar': 'Rock star',
      'hero.description': 'Përjetoni trashëgiminë e mjeshtërisë së {{brand}}, ku çdo kitarë ndërtohet për të frymëzuar kreativitet dhe për të ngritur performancën tuaj. Angazhimi ynë për përsosmëri sjell instrumente që luajnë shpejt, tingëllojnë fuqishëm dhe dallohen në çdo skenë.',
      'hero.ask': 'Pyet ChatGPT',
      'selection.titlePrefix': 'Shiko',
      'selection.titleHighlight': 'Përzgjedhjen',
      'pagination.showingResults': 'DUKE SHFAQUR {{count}} NGA {{total}} REZULTATE',
      'footer.pages': 'FAQE',
      'footer.product': 'PRODUKTI',
      'footer.followUs': 'NA NDIQ',
      'footer.store': 'Dyqani',
      'footer.collections': 'Koleksionet',
      'footer.support': 'Ndihma',
      'footer.terms': 'Kushtet',
      'footer.privacyPolicy': 'Privatësia',
      'footer.copyright': '©2025 Të drejtat e autorit VibeStrings',
      'footer.city': 'San Francisko',
      'footer.language': 'Gjuha',
      'language.en': 'Anglisht',
      'language.sq': 'Shqip',
      'language.mk': 'Maqedonisht',
      'home.hero.titlePrefix': 'Shfleto cilësinë më të lartë',
      'home.hero.titleHighlight': 'Kitarat',
      'home.hero.titleSuffix': 'online.',
      'home.hero.subtitle': 'Eksploro mbi 50k koleksione të fundit të kitarave të markave me VibeStrings.',
      'home.featured.titlePrefix': 'Duke paraqitur',
      'home.featured.titleHighlight': 'Markat më të mira',
      'home.featured.subtitle': 'Zgjidh markën tënde të preferuar dhe shijo koleksionin tonë të jashtëzakonshëm.',
      'home.why.titlePrefix': 'Pse të provosh',
      'home.why.titleSuffix': '?',
      'home.mobile.titlePrefix': 'Shfleto dhe bli',
      'home.mobile.titleHighlight': 'kitarat e tua të preferuara',
      'home.mobile.titleSuffix': 'me VibeStrings.',
      'nav.backList': 'Kthehu te Lista',
      'model.notFound': 'Modeli nuk u gjet',
      'model.specification': 'Specifikimet',
      'model.whoPlaysIt': 'Kush e luan?',
      'model.specs.bodyWood': 'Druri i trupit',
      'model.specs.neckWood': 'Druri i qafës',
      'model.specs.fingerboard': 'Fingerboard',
      'model.specs.pickups': 'Pickups',
      'model.specs.tuners': 'Tuners',
      'model.specs.scaleLength': 'Gjatesia e shkallës',
      'model.specs.bridge': 'Bridge',
    },
  },
  mk: {
    translation: {
      'nav.home': 'Почетна',
      'nav.guitars': 'Гитари',
      'nav.cart': 'Количка',
      'nav.backHome': 'Назад кон Почетна',
      'search.placeholder': 'Пребарај гитари...',
      'search.byName': 'Пребарај по име',
      'filter.brand': 'Бренд',
      'filter.price': 'Ценовен опсег',
      'filter.type': 'Тип',
      'filter.byType': 'Филтрирај по тип',
      'filter.allTypes': 'Сите типови',
      'guitar.price': 'Цена',
      'guitar.brand': 'Бренд',
      'guitar.model': 'Модел',
      'guitar.type': 'Тип',
      'guitar.addToCart': 'Додај во количка',
      'guitar.viewDetails': 'Види детали',
      'cart.empty': 'Вашата количка е празна',
      'cart.total': 'Вкупно',
      'cart.checkout': 'Заврши нарачка',
      'cart.remove': 'Отстрани',
      'loading': 'Се вчитува...',
      'error': 'Се појави грешка',
      'noResults': 'Не се пронајдени гитари',
      'hero.playLikeA': 'Свири како',
      'hero.rockStar': 'Рок ѕвезда',
      'hero.description': 'Искуси ја традицијата на занаетчиството на {{brand}}, каде секоја гитара е создадена да инспирира креативност и да ја подигне изведбата. Нашата посветеност на извонредност испорачува инструменти кои свират брзо, звучат моќно и се истакнуваат на секоја сцена.',
      'hero.ask': 'Прашај ChatGPT',
      'selection.titlePrefix': 'Погледни ја',
      'selection.titleHighlight': 'Изборот',
      'pagination.showingResults': 'ПРИКАЖУВА {{count}} РЕЗУЛТАТИ ОД ВКУПНО {{total}}',
      'footer.pages': 'СТРАНИЦИ',
      'footer.product': 'ПРОИЗВОД',
      'footer.followUs': 'СЛЕДИ НЕ',
      'footer.store': 'Продавница',
      'footer.collections': 'Колекции',
      'footer.support': 'Поддршка',
      'footer.terms': 'Услови',
      'footer.privacyPolicy': 'Политика за приватност',
      'footer.copyright': '©2025 Авторски права VibeStrings',
      'footer.city': 'Сан Франциско',
      'footer.language': 'Јазик',
      'language.en': 'Англиски',
      'language.sq': 'Албански',
      'language.mk': 'Македонски',
      'home.hero.titlePrefix': 'Прелистај врвен квалитет',
      'home.hero.titleHighlight': 'Гитари',
      'home.hero.titleSuffix': 'онлајн.',
      'home.hero.subtitle': 'Истражи 50k+ најнови колекции на бренд гитари со VibeStrings.',
      'home.featured.titlePrefix': 'Претставувајќи ги',
      'home.featured.titleHighlight': 'Најдобрите брендови',
      'home.featured.subtitle': 'Избери го омилениот бренд и истражи ја нашата извонредна колекција.',
      'home.why.titlePrefix': 'Зошто да пробаш',
      'home.why.titleSuffix': '?',
      'home.mobile.titlePrefix': 'Прелистај и купи ги твоите',
      'home.mobile.titleHighlight': 'омилени гитари',
      'home.mobile.titleSuffix': 'со VibeStrings.',
      'nav.backList': 'Назад кон листата',
      'model.notFound': 'Моделот не е пронајден',
      'model.specification': 'Спецификација',
      'model.whoPlaysIt': 'Кој ја свири?',
      'model.specs.bodyWood': 'Дрво на тело',
      'model.specs.neckWood': 'Дрво на гриф',
      'model.specs.fingerboard': 'Фингерборд',
      'model.specs.pickups': 'Пикапи',
      'model.specs.tuners': 'Клучеви',
      'model.specs.scaleLength': 'Должина на скалата',
      'model.specs.bridge': 'Мост',
    },
  },
};

i18n.use(initReactI18next).init({
  resources,
  lng: savedLanguage || 'en',
  fallbackLng: 'en',
  interpolation: {
    escapeValue: false,
  },
});

// Persist language changes to localStorage
if (typeof window !== 'undefined') {
  i18n.on('languageChanged', (lng) => {
    try {
      localStorage.setItem('lang', lng);
    } catch {}
  });
}

export default i18n;
